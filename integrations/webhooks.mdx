---
title: "Webhooks"
description: "Configure webhooks to receive real-time event notifications from the platform"
---

Webhooks allow the IVT Platform to send real-time HTTP notifications to external systems whenever specific events occur. Instead of polling the API for changes, your application receives an HTTP POST request with event data as soon as the event happens.

## Overview

Webhooks are the most flexible integration mechanism available on the platform. They can be used to:

- Trigger workflows in third-party tools (Slack, PagerDuty, Zapier, custom applications)
- Feed event data into SIEM or log management systems
- Synchronize platform events with internal databases
- Build custom alerting and notification pipelines

<Info>
  Webhooks are available to company administrators and above. Each company can configure multiple webhook endpoints with different event subscriptions.
</Info>

## Creating a Webhook

<Steps>
  <Step title="Navigate to Webhook Settings">
    Go to **Settings > Integrations > Webhooks** in the company portal. Click **Add Webhook** to begin configuration.
  </Step>
  <Step title="Enter Endpoint Details">
    Provide a name for the webhook, the destination URL (must be HTTPS), and an optional description. The URL is where the platform will send HTTP POST requests.
  </Step>
  <Step title="Select Event Types">
    Choose which event types should trigger this webhook. You can subscribe to all events or select specific categories.
  </Step>
  <Step title="Configure Authentication">
    Optionally add a signing secret to verify webhook payloads. The platform includes an HMAC-SHA256 signature in the `X-Webhook-Signature` header of each request, computed using your secret.
  </Step>
  <Step title="Set Custom Headers">
    Add any custom HTTP headers required by your endpoint, such as authorization tokens or API keys.
  </Step>
  <Step title="Save and Activate">
    Save the webhook configuration. It will begin receiving events immediately once activated.
  </Step>
</Steps>

## Event Types

The following event types can trigger webhook notifications:

| Event Type | Description |
|------------|-------------|
| `face.detected` | A face was detected on a camera |
| `face.matched` | A detected face matched a gallery subject |
| `face.watchlist_hit` | A detected face matched a subject in a watchlist gallery |
| `access.granted` | Access was granted at an integrated access point |
| `access.denied` | Access was denied at an integrated access point |
| `device.online` | An FMU device came online |
| `device.offline` | An FMU device went offline |
| `camera.connected` | A camera was connected and began streaming |
| `camera.disconnected` | A camera lost connection |
| `alert.created` | A new alert was generated by the platform |
| `gallery.updated` | A gallery was modified (subject added, removed, or updated) |

<Tip>
  Start with a narrow set of event types and expand as needed. Subscribing to all events on a high-traffic deployment can generate significant webhook volume.
</Tip>

## Payload Format

Webhook payloads are sent as JSON in the body of an HTTP POST request. Every payload follows this structure:

```json
{
  "id": "evt_a1b2c3d4e5f6",
  "type": "face.matched",
  "timestamp": "2025-01-15T14:30:00.000Z",
  "data": {
    "camera_id": "cam_001",
    "camera_name": "Main Entrance",
    "subject_id": "sub_xyz789",
    "subject_name": "John Smith",
    "gallery_id": "gal_abc123",
    "gallery_name": "Employees",
    "confidence": 0.97,
    "snapshot_url": "https://platform.example.com/snapshots/evt_a1b2c3d4e5f6.jpg"
  },
  "company_id": "comp_456",
  "site_id": "site_789"
}
```

### Headers

Each webhook request includes the following headers:

| Header | Description |
|--------|-------------|
| `Content-Type` | `application/json` |
| `X-Webhook-ID` | Unique identifier for the webhook configuration |
| `X-Event-ID` | Unique identifier for this specific event |
| `X-Event-Type` | The event type (e.g., `face.matched`) |
| `X-Webhook-Signature` | HMAC-SHA256 signature of the request body (if signing secret is configured) |
| `X-Timestamp` | Unix timestamp of when the request was sent |

## Verifying Signatures

If you configured a signing secret, verify the authenticity of incoming webhooks by computing the HMAC-SHA256 signature and comparing it to the `X-Webhook-Signature` header:

```javascript
const crypto = require('crypto');

function verifyWebhook(payload, signature, secret) {
  const computed = crypto
    .createHmac('sha256', secret)
    .update(payload)
    .digest('hex');
  return crypto.timingSafeEqual(
    Buffer.from(signature),
    Buffer.from(computed)
  );
}
```

<Warning>
  Always verify webhook signatures in production to prevent spoofed requests. Do not rely solely on IP allowlisting as your only security measure.
</Warning>

## Retry Behavior

The platform implements automatic retries for failed webhook deliveries:

- **Initial delivery** -- Sent immediately when the event occurs.
- **Retry 1** -- 30 seconds after the first failure.
- **Retry 2** -- 2 minutes after the second failure.
- **Retry 3** -- 10 minutes after the third failure.
- **Retry 4** -- 1 hour after the fourth failure.
- **Retry 5** -- 6 hours after the fifth failure (final attempt).

A delivery is considered failed if the endpoint returns a non-2xx HTTP status code or the request times out after 10 seconds. After all retries are exhausted, the event is marked as failed in the webhook logs.

<Note>
  If a webhook endpoint fails consistently (more than 50 consecutive failures), the platform will automatically disable the webhook and notify the administrator via email.
</Note>

## Viewing Webhook Logs

Monitor webhook delivery from **Settings > Integrations > Webhooks > [Webhook Name] > Logs**. The log view displays:

- **Event type and ID** for each delivery attempt
- **HTTP status code** returned by the endpoint
- **Response time** in milliseconds
- **Delivery status** (success, failed, retrying)
- **Request and response bodies** for debugging

Logs are retained for 30 days and can be filtered by event type, delivery status, and date range.

## Testing Webhooks

Use the **Send Test Event** button in the webhook configuration to send a sample payload to your endpoint. The test event uses realistic data but is clearly marked with `"test": true` in the payload so your application can distinguish it from real events.

<Tip>
  During development, use a service like webhook.site or ngrok to inspect incoming payloads before connecting your production endpoint.
</Tip>
